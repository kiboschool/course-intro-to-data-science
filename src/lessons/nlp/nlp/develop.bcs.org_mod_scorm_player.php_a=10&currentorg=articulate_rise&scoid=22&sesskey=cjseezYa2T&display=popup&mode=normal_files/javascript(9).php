require(['jquery'],function($){$(document).ready(function(){if($("body").hasClass("path-course-index")){$(".categoryname").trigger("click").addClass("clicked");var checkExist=setInterval(function(){$(".category.collapsed .categoryname").not(".clicked").trigger("click").addClass("clicked");if($(".moreinfo").length){if($("#region-main .coursebox.collapsed").length){$(".coursebox.collapsed .moreinfo").not(".clicked").trigger("click").addClass("clicked")}else{clearInterval(checkExist)}}},500)}
if($("#page-course-view-topics").not(".editing").length||$("#page-course-view-remuiformat").not(".editing").length){$(".automatic-completion-conditions").each(function(){var conditions=$(this).children(".badge").length;var completed=$(this).children(".badge-success").length;var failed=$(this).children(".badge-danger").length;if(failed){$(this).removeClass("complete").addClass("failed")}else if(conditions==completed){$(this).removeClass("failed").addClass("complete")}})}
var course_link="";$('.breadcrumb li').each(function(index,value){if(typeof($(this).find('a').prop('href'))!=='undefined'){if($(this).find('a').prop('href').indexOf("course/view.php")>=0){course_link=$(this).find('a').prop('href')}}});var return_to_course_button='<div class="clearfix py-3"><a href="'+course_link+'" class="btn btn-secondary">Back to the course</a></div>';$('#page-mod-assign-view #region-main').append(return_to_course_button);$('#page-mod-choice-view #region-main').append(return_to_course_button);$('#page-mod-data-view #region-main').append(return_to_course_button);$('#page-mod-dataplus-view #region-main').append(return_to_course_button);$('#page-mod-feedback-view #region-main div[role="main"]').append('<div style="margin-top:10px;" class="box generalbox boxaligncenter boxwidthwide"><a href="'+course_link+'" class="btn btn-secondary">Return to the course</a></div>');$('#page-mod-feedback-view .boxaligncenter a').addClass('btn btn-primary');$('#page-mod-dialogue-view-index #region-main').append(return_to_course_button);$('#page-mod-dialogue-drafts #region-main').append(return_to_course_button);$('#page-mod-dialogue-bulkopenrules #region-main').append(return_to_course_button);$('#page-mod-journal-view #region-main').append(return_to_course_button);$('#page-mod-journal-edit #region-main').append(return_to_course_button);$('#page-mod-choicegroup-view #region-main').append(return_to_course_button);$('#page-mod-wiki-view #region-main').append(return_to_course_button);$('#page-mod-checklist-view #region-main').append(return_to_course_button);$('#page-mod-oublog-view #region-main').append(return_to_course_button);$('#page-mod-quiz-view #region-main').append(return_to_course_button);$('#page-mod-folder-view #region-main').append(return_to_course_button);$('#page-mod-page-view #region-main').append(return_to_course_button);$('#page-mod-facetoface-view #region-main').append(return_to_course_button);$('#page-mod-forum-view #region-main').append(return_to_course_button);$('#page-mod-forum-discuss #region-main').append(return_to_course_button);$('.path-user.path-course-view .enrolusersbutton').parents('#region-main').append(return_to_course_button);$('#page-mod-feedback-analysis #region-main').append(return_to_course_button);if($('.format-topics a:contains("Badges")').length||$('.format-remuiformat a:contains("Badges")').length){var menuitem=$('.dropdown-menu a:contains("More...")');var parent=menuitem.parent('.dropdown-item');var course='<div class="dropdown-item">'+parent.html().replace(/\More.../g,"Course completion report").replace("course/admin.php?courseid=","report/completion/index.php?course=")+'</div>';var activity='<div class="dropdown-item">'+parent.html().replace(/\More.../g,"Activity completion report").replace("course/admin.php?courseid=","report/progress/index.php?course=")+'</div>';parent.before(course);parent.before(activity)}})})